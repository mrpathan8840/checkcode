import base64
exec(base64.b64decode(b'aW1wb3J0IHJlcXVlc3RzDQppbXBvcnQgbWVjaGFuaXplDQppbXBvcnQgZ2V0cGFzcw0KaW1wb3J0IGpzb24NCmltcG9ydCByYW5kb20NCmltcG9ydCB0aW1lDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgDQpmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlLCBTdHlsZQ0KZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbA0KZnJvbSBwbGF0Zm9ybSBpbXBvcnQgc3lzdGVtDQppbXBvcnQgb3MsIHBsYXRmb3JtLCBiaW5hc2NpaSwgc3lzLCBfc29ja2V0LCBzc2wsIGNlcnRpZmksIHpsaWIsIGpzb24sIHV1aWQNCmZyb20gb3MgaW1wb3J0IHN5c3RlbSBhcyBzaA0KZnJvbSB0aW1lIGltcG9ydCBzbGVlcA0KDQoNCmxvZ28gPSByJycnICANCl9fX19fXyAgX19fIF9fX19fIF8gICBfICAgX19fICAgXyAgIF8gDQp8IF9fXyBcLyBfIFxfICAgX3wgfCB8IHwgLyBfIFwgfCBcIHwgfA0KfCB8Xy8gLyAvX1wgXHwgfCB8IHxffCB8LyAvX1wgXHwgIFx8IHwNCnwgIF9fL3wgIF8gIHx8IHwgfCAgXyAgfHwgIF8gIHx8IC4gYCB8DQp8IHwgICB8IHwgfCB8fCB8IHwgfCB8IHx8IHwgfCB8fCB8XCAgfA0KXF98ICAgXF98IHxfL1xfLyBcX3wgfF8vXF98IHxfL1xffCBcXy8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgDQogICAgICBXRUxDT01FIFRPIFRIRSBEQyBSVUxMRVggQk9JWlogDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgVEhJUyBUT09MIENSRUFURUQgQlkgUEFUSEFBTg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIA0KICAgICAgICBNVUxUSSBJRFogTVVMVEkgUEFHRSBXQUxMUyBNVUxUSSBGSUxFIExPQURFUiBUT09MDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgICAgICAgICAgICAgICAgICAgICAgICANCicnJw0KIyBQcmludCB0aGUgbG9nbw0KcHJpbnQoRm9yZS5DWUFOICsgbG9nbyArICBTdHlsZS5SRVNFVF9BTEwpDQoNCg0KICAgIA0KIyBQcm9tcHQgUGFzc3dvcmQgDQpkZWYgcGFzKCk6DQogICAgcHJpbnQoJ1x1MDAxYlszN20nICsgJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgcGFzc3dvcmQgPSBpbnB1dCgiUGFzc3dvcmQgOiAiKSANCiAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KICAgIG1tbSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3L0RtZnVzeXp4JykudGV4dA0KDQogICAgaWYgbW1tIG5vdCBpbiBwYXNzd29yZDoNCiAgICAgICAgcHJpbnQoJ1stXSA8PT0+IEluY29ycmVjdCBQYXNzd29yZCEnKQ0KICAgICAgICBzeXMuZXhpdCgpDQogICAgICAgIA0KcGFzKCkNCg0KIyBQcm9tcHQgZm9yIHRva2VuIGZpbGUNCnRva2VuX2ZpbGUgPSBpbnB1dCgiRU5URVIgVE9LRU4gRklMRSBQQVRIIDogIikNCnByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQoNCiMgUmVhZCBhY2Nlc3MgdG9rZW4gSURzIGZyb20gZmlsZQ0Kd2l0aCBvcGVuKHRva2VuX2ZpbGUsICdyJykgYXMgZjoNCiAgICBhY2Nlc3NfdG9rZW5zID0gZi5yZWFkKCkuc3BsaXRsaW5lcygpDQoNCiMgUHJvbXB0IGZvciB0aGUgbnVtYmVyIG9mIHVzZXIgSURzDQpudW1fdXNlcl9pZHMgPSBpbnQoaW5wdXQoIkhPVyBNQU5ZIFBPU1RTIFlPVSBXQU5UIEZPUiBMT0FERVIgOiAiKSkNCnByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQoNCiMgRGVmaW5lIHRoZSB1c2VyIElEcyBhbmQgbWVzc2FnZSBmaWxlcw0KdXNlcl9tZXNzYWdlcyA9IHt9DQpoYXRlcnNfbmFtZSA9IHt9IA0KDQojIFByb21wdCBmb3IgdXNlciBJRHMgYW5kIG1lc3NhZ2UgZmlsZXMNCmZvciBpIGluIHJhbmdlKG51bV91c2VyX2lkcyk6DQogICAgdXNlcl9pZCA9IGlucHV0KGYiRU5URVIgUE9TVCBJRCAje2krMX0gOiAiKQ0KICAgIHByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgaGF0ZXJfbmFtZSA9IGlucHV0KGYiRU5URVIgSEFURVIgTkFNRSBGT1IgUE9TVCBJRCB7dXNlcl9pZH0gOiAiKQ0KICAgIHByaW50KCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQogICAgaGF0ZXJzX25hbWVbdXNlcl9pZF0gPSBoYXRlcl9uYW1lDQogICAgbWVzc2FnZV9maWxlID0gaW5wdXQoZiJFTlRFUiBNRVNTQUdFUyBGSUxFIC9OUCBGT1Ige3VzZXJfaWR9IDogIikNCiAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KICAgIHVzZXJfbWVzc2FnZXNbdXNlcl9pZF0gPSBtZXNzYWdlX2ZpbGUNCg0KDQoNCg0KIyBQcm9tcHQgZm9yIGRlbGF5IHRpbWUgaW4gbWVzc2FnZXMNCmRlbGF5X3RpbWUgPSBpbnQoaW5wdXQoIkVOVEVSIERFTEFZL1RJTUUgKGluIHNlY29uZHMpIEZPUiBNRVNTQUdFUyA6ICIpKQ0KcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCg0KIyBQcm9tcHQgZm9yIGRlbGF5IGJlZm9yZSByZXBlYXRpbmcgdGhlIHByb2Nlc3MNCnJlcGVhdF9kZWxheSA9IGludChpbnB1dCgiRU5URVIgREVMQVkvVElNRSAoaW4gc2Vjb25kcykgQkVGT1JFIFJFUEVBVElORyBUSEUgUFJPQ0VTUyA6ICIpKQ0KcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCg0KIyBHZXQgcHJvZmlsZSBuYW1lIHVzaW5nIGFuIGFjY2VzcyB0b2tlbg0KZGVmIGdldF9wcm9maWxlX25hbWUoYWNjZXNzX3Rva2VuKToNCiAgICB1cmwgPSBmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxNy4wL21lP2FjY2Vzc190b2tlbj17YWNjZXNzX3Rva2VufScNCiAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmwpDQogICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKQ0KICAgIGlmICduYW1lJyBpbiBkYXRhOg0KICAgICAgICByZXR1cm4gZGF0YVsnbmFtZSddDQogICAgcmV0dXJuIE5vbmUNCg0KIyBGdW5jdGlvbiB0byBzZW5kIGEgbWVzc2FnZSB0byBhIHVzZXIncyBpbmJveCBjb252ZXJzYXRpb24gdXNpbmcgYW4gYWNjZXNzIHRva2VuDQpkZWYgc2VuZF9tZXNzYWdlKGFjY2Vzc190b2tlbiwgdXNlcl9pZCwgbWVzc2FnZSk6DQogICAgdXJsID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YxNS4wL3t9L2NvbW1lbnRzIi5mb3JtYXQodXNlcl9pZCkNCiAgICBoZWFkZXJzID0gew0KICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOC4wLjA7IFNhbXN1bmcgR2FsYXh5IFM5IEJ1aWxkL09QUjYuMTcwNjIzLjAxNzsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81OC4wLjMwMjkuMTI1IE1vYmlsZSBTYWZhcmkvNTM3LjM2JywNCiAgICAgICAgJ1JlZmVyZXInOiAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLycsDQogICAgICAgICdBdXRob3JpemF0aW9uJzogZidCZWFyZXIge2FjY2Vzc190b2tlbn0nDQogICAgfQ0KICAgIGRhdGEgPSB7J21lc3NhZ2UnOiBoYXRlcl9uYW1lICsgJyAnICsgbWVzc2FnZX0NCg0KICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCh1cmwsIGhlYWRlcnM9aGVhZGVycywgZGF0YT1kYXRhKQ0KICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoNCiAgICAgICAgY3VycmVudF90aW1lID0gZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoJyVZLSVtLSVkICVIOiVNOiVTJykNCiAgICAgICAgcHJpbnQoZid7Rm9yZS5CTFVFfVt7Y3VycmVudF90aW1lfV0ge0ZvcmUuWUVMTE9XfUNvbW1lbnQgc2VudCBzdWNjZXNzZnVsbHkgdG8gdXNlciBJRCB7dXNlcl9pZH06IHtGb3JlLkdSRUVOfXtoYXRlcl9uYW1lICsgbWVzc2FnZX0nKQ0KICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgIGVsc2U6DQogICAgICAgIGN1cnJlbnRfdGltZSA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpDQogICAgICAgIHByaW50KGYne0ZvcmUuQkxVRX1be2N1cnJlbnRfdGltZX1dIHtGb3JlLlJFRH1FcnJvciBzZW5kaW5nIGNvbW1lbnQgdG8gdXNlciBJRCB7dXNlcl9pZH06IHtGb3JlLlJFRH17aGF0ZXJfbmFtZSArIG1lc3NhZ2V9JykNCiAgICAgICAgcHJpbnQoZid7Rm9yZS5SRUR9W3tjdXJyZW50X3RpbWV9XSBSZXNwb25zZSBjb250ZW50OiB7Rm9yZS5SRUR9e3Jlc3BvbnNlLmNvbnRlbnQuZGVjb2RlKCl9JykNCiAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiMgTWFpbiBsb29wIHRvIHNlbmQgbWVzc2FnZXMNCndoaWxlIFRydWU6DQogICAgdG90YWxfc3VjY2Vzc2Z1bF9tZXNzYWdlcyA9IDANCiAgICB0b3RhbF91bnN1Y2Nlc3NmdWxfbWVzc2FnZXMgPSAwDQoNCiAgICAjIEl0ZXJhdGUgb3ZlciB0aGUgYWNjZXNzIHRva2Vucw0KICAgIGZvciBpLCBhY2Nlc3NfdG9rZW4gaW4gZW51bWVyYXRlKGFjY2Vzc190b2tlbnMpOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICAjIExvZ2luIHVzaW5nIHRoZSBhY2Nlc3MgdG9rZW4gYW5kIGdldCB0aGUgcHJvZmlsZSBuYW1lDQogICAgICAgICAgICBwcm9maWxlX25hbWUgPSBnZXRfcHJvZmlsZV9uYW1lKGFjY2Vzc190b2tlbikNCiAgICAgICAgICAgIGlmIG5vdCBwcm9maWxlX25hbWU6DQogICAgICAgICAgICAgICAgY29udGludWUNCg0KICAgICAgICAgICAgcHJvZmlsZV9udW1iZXIgPSBpICsgMQ0KICAgICAgICAgICAgYWNjZXNzX3Rva2VuX2lkID0gYWNjZXNzX3Rva2VuWzo0XSArICcqKioqKioqKicNCg0KICAgICAgICAgICAgIyBQcmludCB0aGUgcHJvZmlsZSBpbmZvcm1hdGlvbg0KICAgICAgICAgICAgcHJpbnQoZid7Rm9yZS5ZRUxMT1d9UHJvZmlsZSB7cHJvZmlsZV9udW1iZXJ9IChJRDoge2FjY2Vzc190b2tlbl9pZH0pOiB7cHJvZmlsZV9uYW1lfScpDQogICAgICAgICAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KDQogICAgICAgICAgICAjIEl0ZXJhdGUgb3ZlciB0aGUgdXNlciBJRHMgYW5kIG1lc3NhZ2VzDQogICAgICAgICAgICBmb3IgdXNlcl9pZCwgbWVzc2FnZV9maWxlIGluIHVzZXJfbWVzc2FnZXMuaXRlbXMoKToNCiAgICAgICAgICAgIAkNCiAgICAgICAgICAgICAgICAjIFJlYWQgbWVzc2FnZXMgZnJvbSB0aGUgbWVzc2FnZSBmaWxlIGZvciB0aGUgY3VycmVudCB1c2VyIElEDQogICAgICAgICAgICAgICAgd2l0aCBvcGVuKG1lc3NhZ2VfZmlsZSwgJ3InKSBhcyBmOg0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IGYucmVhZCgpLnNwbGl0bGluZXMoKQ0KDQogICAgICAgICAgICAgICAgIyBTaHVmZmxlIHRoZSBtZXNzYWdlcyBmb3IgdGhlIGN1cnJlbnQgdXNlcg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICMgR2V0IHRoZSBoYXRlciBuYW1lIGZvciB0aGUgY3VycmVudCB1c2VyIElEDQogICAgICAgICAgICAgICAgaGF0ZXJfbmFtZSA9IGhhdGVyc19uYW1lW3VzZXJfaWRdDQoNCg0KICAgICAgICAgICAgICAgICMgR2V0IHRoZSBtZXNzYWdlcyBjb3VudCBmb3IgdGhlIGN1cnJlbnQgdXNlcg0KICAgICAgICAgICAgICAgIG1lc3NhZ2VzX2NvdW50ID0gbGVuKG1lc3NhZ2VzKQ0KDQogICAgICAgICAgICAgICAgIyBHZXQgdGhlIGN1cnJlbnQgbWVzc2FnZSBpbmRleCBmb3IgdGhlIHVzZXIgSUQNCiAgICAgICAgICAgICAgICBtZXNzYWdlX2luZGV4ID0gaSAlIG1lc3NhZ2VzX2NvdW50DQoNCiAgICAgICAgICAgICAgICAjIEdldCB0aGUgbWVzc2FnZSBmb3IgdGhlIGN1cnJlbnQgaW5kZXgNCiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZV9pbmRleF0NCg0KICAgICAgICAgICAgICAgIGlmIHNlbmRfbWVzc2FnZShhY2Nlc3NfdG9rZW4sIHVzZXJfaWQsIG1lc3NhZ2UpOg0KICAgICAgICAgICAgICAgICAgICB0b3RhbF9zdWNjZXNzZnVsX21lc3NhZ2VzICs9IDENCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICB0b3RhbF91bnN1Y2Nlc3NmdWxfbWVzc2FnZXMrPSAxDQoNCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKGRlbGF5X3RpbWUpICAjIERlbGF5IGJldHdlZW4gZWFjaCBtZXNzYWdlDQogICAgICAgICAgICAjIFByaW50IEZhY2Vib29rIElELCBtZXNzYWdlLCBhbmQgY3VycmVudCBkYXRlL3RpbWUgYWZ0ZXIgbWVzc2FnZSBpcyBzZW50DQogICAgICAgICAgICBjdXJyZW50X3RpbWUgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgnJVktJW0tJWQgJUg6JU06JVMnKQ0KICAgICAgICAgICAgcHJpbnQoZid7Rm9yZS5NQUdFTlRBfUZhY2Vib29rIElEOiB7dXNlcl9pZH0nKQ0KICAgICAgICAgICAgcHJpbnQoJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykNCiAgICAgICAgICAgIHByaW50KCdOZXh0IElEIFJlYWR5IFRvIFNlbmQgQ29tbWVudCcpDQogICAgICAgICAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KDQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIGN1cnJlbnRfdGltZSA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpDQogICAgICAgICAgICBwcmludChmJ3tGb3JlLlJFRH1be2N1cnJlbnRfdGltZX1dIEludGVybmV0IGRpc2Nvbm5lY3RlZC4gUmVjb25uZWN0aW5nIGluIDEwIHNlY29uZHMuLi57U3R5bGUuUkVTRVRfQUxMfScpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDEwKQ0KDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIGN1cnJlbnRfdGltZSA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclWS0lbS0lZCAlSDolTTolUycpDQogICAgICAgICAgICBwcmludChmJ3tGb3JlLlJFRH1be2N1cnJlbnRfdGltZX1dIEFuIGVycm9yIG9jY3VycmVkOiB7c3RyKGUpfXtTdHlsZS5SRVNFVF9BTEx9JykNCiAgICAgICAgICAgIGNvbnRpbnVlDQoNCiAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KICAgIHByaW50KCdBbGwgY29tbWVudHMgc2VudC4gV2FpdGluZyBiZWZvcmUgcmVwZWF0aW5nIHRoZSBwcm9jZXNzLi4uJykNCiAgICBwcmludCgnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKQ0KICAgIHRpbWUuc2xlZXAoZGVsYXlfdGltZSkgICMgRGVsYXkgYmVmb3JlIHJlcGVhdGluZyB0aGUgcHJvY2Vzcw0K'
